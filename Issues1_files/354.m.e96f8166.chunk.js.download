(window.webpackJsonp=window.webpackJsonp||[]).push([[354],{1895:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return u}));var i=s(2),n=s(965),o=s(496),a=s.n(o),r=s(316),l=s.n(r),c=s(464),p=s(1161),h=s(1162);s(1068);class m extends i.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!0,referencedRepositories:{}},this.fetchRuleDetails=()=>{this.setState({loading:!0}),Promise.all([Object(c.e)(),Object(c.c)({key:this.props.ruleKey})]).then(([{repositories:e},{rule:t}])=>{this.mounted&&(this.setState({loading:!1,referencedRepositories:a()(e,"key"),ruleDetails:t}),this.props.onLoad({name:t.name}))},()=>{this.mounted&&this.setState({loading:!1})})},this.noOp=()=>{}}componentDidMount(){this.mounted=!0,this.fetchRuleDetails()}componentDidUpdate(e){e.ruleKey!==this.props.ruleKey&&this.fetchRuleDetails()}componentWillUnmount(){this.mounted=!1}render(){return i.createElement(l.a,{loading:this.state.loading},this.state.ruleDetails&&i.createElement(i.Fragment,null,i.createElement(h.a,{canWrite:!1,hideSimilarRulesFilter:!0,onFilterChange:this.noOp,onTagsChange:this.noOp,referencedRepositories:this.state.referencedRepositories,ruleDetails:this.state.ruleDetails}),i.createElement(p.a,{canWrite:!1,onChange:this.noOp,ruleDetails:this.state.ruleDetails})))}}var d=s(963);class u extends i.PureComponent{constructor(){super(...arguments),this.state={loading:!0},this.handleClose=()=>{this.props.onClose(this.props.rule.key)},this.handleLoaded=e=>{this.props.onLoad({key:this.props.rule.key,name:e.name}),setTimeout(()=>{this.setState({loading:!1})},1e3)}}componentDidUpdate(e){e.rule.key!==this.props.rule.key&&this.setState({loading:!0})}render(){const{rule:e}=this.props,{loading:t}=this.state;return i.createElement("div",{className:"workspace-viewer"},i.createElement(n.a,{maximized:this.props.maximized,onClose:this.handleClose,onCollapse:this.props.onCollapse,onMaximize:this.props.onMaximize,onMinimize:this.props.onMinimize,onResize:this.props.onResize},i.createElement(d.a,{rule:e})),i.createElement("div",{"aria-busy":t,"aria-live":"polite",className:"workspace-viewer-container",style:{height:this.props.height}},i.createElement(m,{onLoad:this.handleLoaded,ruleKey:e.key})))}}},963:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i=s(2),n=s(964),o=s.n(n),a=s(345);function r({limited:e,rule:t}){const{name:s="â€”"}=t;return i.createElement(i.Fragment,null,i.createElement(o.a,{className:"little-spacer-right",fill:a.colors.blue}),e?i.createElement("span",{className:"text-limited"},s):s)}},965:function(e,t,s){"use strict";s.d(t,"a",(function(){return k}));var i=s(2),n=s(750),o=s(312),a=s(684),r=s.n(a),l=s(966),c=s.n(l),p=s(967),h=s.n(p),m=s(968),d=s.n(m),u=s(31);class k extends i.PureComponent{constructor(){super(...arguments),this.handleDrag=(e,t)=>{this.props.onResize(t.deltaY)}}render(){return i.createElement("header",{className:"workspace-viewer-header"},i.createElement("h6",{className:"workspace-viewer-name"},this.props.children),i.createElement(n.DraggableCore,{offsetParent:document.body,onDrag:this.handleDrag},i.createElement("div",{className:"workspace-viewer-resize js-resize"})),i.createElement("div",{className:"workspace-viewer-actions"},i.createElement(w,{icon:d.a,onClick:this.props.onCollapse,tooltip:"workspace.minimize"}),this.props.maximized?i.createElement(w,{icon:c.a,onClick:this.props.onMinimize,tooltip:"workspace.normal_size"}):i.createElement(w,{icon:h.a,onClick:this.props.onMaximize,tooltip:"workspace.full_window"}),i.createElement(w,{icon:r.a,onClick:this.props.onClose,tooltip:"workspace.close"})))}}function w({icon:e,onClick:t,tooltip:s}){return i.createElement(o.ButtonIcon,{className:"workspace-header-icon",color:"#fff",onClick:t,tooltip:Object(u.translate)(s)},i.createElement(e,{fill:void 0}))}}}]);
//# sourceMappingURL=354.m.e96f8166.chunk.js.map